doctype html
html
  head
    meta(charset="utf-8")
    meta(http-equiv="X-UA-Compatible",content="IE=edge")
    meta(http-equiv="Cache-Control",content="private")
    meta(http-equiv="Cache-Control",content="max-age=1209600")
    meta(name="viewport",content="width=device-width, initial-scale=1")
    script.
      document.write("<base href=" + document.location + " />");
    title Blog
    link(rel="stylesheet", href="/css/app.css")
    link(href="http://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css",rel="stylesheet",type="text/css")
    link(href="http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic",rel="stylesheet",type="text/css")
    link(href="http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800",rel="stylesheet",type="text/css")

  body.loading
    block content

    include footer

    if(env === "development")
      script(src="/node_modules/jquery/dist/jquery.min.js")
      script(src="/node_modules/jqueryui/jquery-ui.min.js")
      script(src="/node_modules/bootstrap-sass/assets/javascripts/bootstrap.min.js")

      script(src="/node_modules/es6-shim/es6-shim.min.js")
      script(src="/node_modules/systemjs/dist/system-polyfills.js")

      script(src="/bower_components/bootstrap-star-rating/js/star-rating.min.js")
      script(src="/node_modules/angular2/bundles/angular2-polyfills.js")
      script(src="/node_modules/systemjs/dist/system.js")

      script(src="/node_modules/angular2/bundles/angular2.dev.js")
      script(src="/node_modules/rxjs/bundles/Rx.js")
      script(src="/node_modules/angular2/bundles/router.dev.js")
      script(src="/node_modules/angular2/bundles/http.dev.js")
      script(src="/socket.io/socket.io.js")
    else
      script(src="https://code.jquery.com/jquery-2.2.1.min.js")
      script(src="https://code.jquery.com/ui/1.11.4/jquery-ui.min.js")
      script(src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js")

      script(src="https://cdnjs.cloudflare.com/ajax/libs/es6-shim/0.33.3/es6-shim.min.js")
      script(src="https://cdnjs.cloudflare.com/ajax/libs/systemjs/0.19.22/system-polyfills.js")

      script(src="/bower_components/bootstrap-star-rating/js/star-rating.min.js")
      script(src="https://code.angularjs.org/2.0.0-beta.7/angular2-polyfills.min.js")
      script(src="https://code.angularjs.org/tools/system.js")

      script(src="https://cdn.socket.io/socket.io-1.3.7.js")

    script.
      System.config({
        packages: {
          "js/app": {
            format: "cjs",
            defaultExtension: "js"
          }
        }
      });
    script.
      System.import("/js/app/boot").then(null, console.error.bind(console));